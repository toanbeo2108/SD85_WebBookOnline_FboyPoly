<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Shop</title>
</head>
<body>
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

	<!-- Font Awesome -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

	<!-- Libraries Stylesheet -->
	<link href="~/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

	<!-- Customized Bootstrap Stylesheet -->
	<link href="~/css/style.css" rel="stylesheet">
	<div class="container-fluid">
		<div class="row bg-secondary py-2 px-xl-5">
			<div class="col-lg-6 d-none d-lg-block">
				<div class="d-inline-flex align-items-center">
					<a class="text-dark" asp-action="Index" asp-controller="Home">FAQs</a>
					<span class="text-muted px-2">|</span>
					<a class="text-dark" asp-action="Index" asp-controller="Home">Help</a>
					<span class="text-muted px-2">|</span>
					<a class="text-dark" asp-action="Index" asp-controller="Home">Support</a>
				</div>
			</div>
			<div class="col-lg-6 text-center text-lg-right">
				<div class="d-inline-flex align-items-center">
					<a asp-area="Customer" asp-controller="User" asp-action="Account"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQfHKr4J28Bd2GLN_c-P4FtX99NIFVS6rTurA&usqp=CAU" class="rounded-circle" style="width : 50px; height:50px;object-fit: cover" alt="Error Image" /></a>
					<a asp-area="" asp-controller="Home" asp-action="Logout" class="nav-item nav-link item-nav">Logout</a>
				</div>
			</div>
		</div>
		<div class="row align-items-center py-3 px-xl-5">
			<div class="col-lg-3 d-none d-lg-block">
				<a asp-action="Index" asp-controller="Home" asp-area="" class="text-decoration-none"></a>
				<a asp-action="Index" asp-controller="Home" asp-area=""><img class="logo" src="~/img/fptBookLogo.png" style="width: 50%;"></a>

			</div>
			<div class="col-lg-6 col-6 text-left">
				<form action="">
					<div class="input-group">
						<input type="text" class="form-control" placeholder="Search for products">
						<div class="input-group-append">
							<span class="input-group-text bg-transparent text-primary">
								<i class="fa fa-search"></i>
							</span>
						</div>
					</div>
				</form>
			</div>
			<div class="col-lg-3 col-6 text-right">
				<a asp-action="Index" asp-controller="Home" class="btn border">
					<i class="fas fa-heart text-primary"></i>
					<span class="badge">0</span>
				</a>
				<a asp-action="MyCart" asp-controller="Home" class="btn border">
					<i class="fas fa-shopping-cart text-primary"></i>
					<span class="badge">0</span>
				</a>
			</div>
		</div>
	</div>
	<!-- Topbar End -->
	<!-- Navbar Start -->
	<div class="container-fluid">
		<div class="row border-top px-xl-5">
			<div class="col-lg-3 d-none d-lg-block">
				<a asp-action="Index" asp-controller="Home" class="btn shadow-none d-flex align-items-center justify-content-between bg-primary text-white w-100" data-toggle="collapse" style="height: 65px; margin-top: -1px; padding: 0 30px;">
					<h6 class="m-0">Categories</h6>
					<i class="fa fa-angle-down text-dark"></i>
				</a>
				@inject Microsoft.AspNetCore.Http.IHttpContextAccessor context
				@using Newtonsoft.Json
				@using SD85_WebBookOnline.Share.Models
				<nav class="collapse position-absolute navbar navbar-vertical navbar-light align-items-start p-0 border border-top-0 border-bottom-0 bg-light" id="navbar-vertical" style="width: calc(100% - 30px); z-index: 1;">
					<div class="navbar-nav w-100 overflow-hidden" style="height: 410px">

						@*@{
						var lstCTPValue = context.HttpContext.Request.Cookies["lstCateParent"];
						if (lstCTPValue == null)
						{
						<h1>Null Form rồi</h1>
						}
						IEnumerable<CategoryParent> lstCTP = JsonConvert.DeserializeObject<IEnumerable<CategoryParent>>(lstCTPValue);
						if (lstCTP != null)
						{
						foreach (var item in lstCTP)
						{
						<a asp-action="FilterByForm" asp-controller="Shop" class="nav-item nav-link" asp-route-id="@item.CategoryParentID">
						@item.CategoryParentName
						</a>
						}

						}
						else
						{
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Truyện Tranh Nhật Bản</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Truyện Cổ Tích</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Truyện Kinh Dị</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Truyện Cười</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Sách Tiểu Thuyết</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Sách Thiếu Nhi</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Sách Kinh Tế</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Sách Văn Học Kinh Điển</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Đồ Dùng Học Tập</a>
						}
						}*@
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Truyện Tranh Nhật Bản</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Truyện Cổ Tích</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Truyện Kinh Dị</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Truyện Cười</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Sách Tiểu Thuyết</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Sách Thiếu Nhi</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Sách Kinh Tế</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Sách Văn Học Kinh Điển</a>
						<a asp-action="All" asp-controller="Shop" class="nav-item nav-link">Đồ Dùng Học Tập</a>
					</div>


				</nav>
			</div>
			<div class="col-lg-9">
				<nav class="navbar navbar-expand-lg bg-light navbar-light py-3 py-lg-0 px-0">
					<a href="" class="text-decoration-none d-block d-lg-none">
						<h1 class="m-0 display-5 font-weight-semi-bold"><span class="text-primary font-weight-bold border px-3 mr-1">E</span>Shopper</h1>
					</a>
					<button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
						<div class="navbar-nav mr-auto py-0">
							<a asp-action="Index" asp-controller="Home" class="nav-item nav-link active">Trang Chủ</a>
							<a asp-action="All_Pro" asp-controller="Shop" asp-area="Customer" class="nav-item nav-link">Shop</a>
							<a asp-action="MyCart" asp-controller="Cart" asp-area="Customer" class="nav-item nav-link">Giỏ Hàng</a>
							<a asp-action="	" asp-controller="Home" class="nav-item nav-link">Chương Trình Khuyến Mãi</a>
						</div>

					</div>
				</nav>
			</div>
		</div>
	</div>
	<!-- Navbar End -->
	<!-- Page Header Start -->
	<div class="container-fluid bg-secondary mb-5">
		<div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 300px">
			<h1 class="font-weight-semi-bold text-uppercase mb-3">Our Shop</h1>
			<div class="d-inline-flex">
				<p class="m-0"><a href="">Home</a></p>
				<p class="m-0 px-2">-</p>
				<p class="m-0">Shop</p>
			</div>
		</div>
	</div>
	<!-- Page Header End -->
	<div class="container-fluid pt-5">
		<div class="row px-xl-5">
			<!-- Shop Sidebar Start -->
			<div class="col-lg-3 col-md-12">
				<!-- Price Start -->
				<div class="border-bottom mb-4 pb-4">
					<h5 class="font-weight-semi-bold mb-4">Mệnh Giá</h5>
					<form>
							<a asp-action="UsePricedown_100" asp-controller="Shop" asp-area="Customer">
							<div class="custom-control  d-flex align-items-center justify-content-between mb-3">
								<label class="custom-control-label" for="price-1">Dưới 100.000đ</label>
								<span class="badge border font-weight-normal">150</span>
							</div>
						</a>
						<a asp-action="UsePricebetween_100to200" asp-controller="Shop" asp-area="Customer">
							<div class="custom-control  d-flex align-items-center justify-content-between mb-3">
								<label class="custom-control-label" for="price-2">100.000đ - 200.000đ</label>
								<span class="badge border font-weight-normal">295</span>
							</div>
						</a>
						<a asp-action="UsePricebetween_200to400" asp-controller="Shop" asp-area="Customer">
							<div class="custom-control  d-flex align-items-center justify-content-between mb-3">
								<label class="custom-control-label" for="price-2">200.000đ - 400.000đ</label>
								<span class="badge border font-weight-normal">295</span>
							</div>
						</a>
						<a asp-action="UsePricebetween_400to500" asp-controller="Shop" asp-area="Customer">
							<div class="custom-control  d-flex align-items-center justify-content-between mb-3">
								<label class="custom-control-label" for="price-2">400.000đ - 500.000đ</label>
								<span class="badge border font-weight-normal">295</span>
							</div>
						</a>
						<a asp-action="UsePrice_500Up" asp-controller="Shop" asp-area="Customer">
							<div class="custom-control  d-flex align-items-center justify-content-between mb-3">
								<label class="custom-control-label" for="price-2">Trên 500.000đ</label>
								<span class="badge border font-weight-normal">295</span>
							</div>
						</a>

					</form>
				</div>
				<!-- Price End -->
				<!-- Color Start -->

				<div class="border-bottom mb-4 pb-4">
					<h5 class="font-weight-semi-bold mb-4">Hình Thức</h5>
					<form>
						<a>
							<div class="custom-control d-flex align-items-center justify-content-between mb-3">
								<label class="custom-control-label" for="price-all">Tất Cả</label>
								<span class="badge border font-weight-normal">1000</span>
							</div>
						</a>

						@{
							string lstFormValue = Context.Request.Cookies["lstForm"];
							if (lstFormValue == null)
							{
								<h1>Null Form rồi</h1>
							}
							List<Form> lstForm = JsonConvert.DeserializeObject<List<Form>>(lstFormValue);
							if (lstForm != null)
							{
								foreach (var item in lstForm)
								{
									<a asp-action="FilterBy_Form" asp-controller="Shop" asp-route-id="@item.FormId" asp-area="Customer">
										<div class="custom-control d-flex align-items-center justify-content-between mb-3">
											<label class="custom-control-label" for="price-all">@item.FormName</label>
											<span class="badge border font-weight-normal">1000</span>
										</div>
									</a>
								}

							}
						}

					</form>
				</div>

				<div class="border-bottom mb-4 pb-4">
					<h5 class="font-weight-semi-bold mb-4">Tác Giả</h5>
					<form>
						<a>
							<div class="custom-control d-flex align-items-center justify-content-between mb-3">
								<label class="custom-control-label" for="price-all">Tất Cả</label>
								<span class="badge border font-weight-normal">1000</span>
							</div>
						</a>

						@{
							var lstAuthorValue = context.HttpContext.Request.Cookies["lstAuthor"];
							if (lstAuthorValue == null)
							{
								<h1>Null Form rồi</h1>
							}
							IEnumerable<Author> lstAuthor = JsonConvert.DeserializeObject<IEnumerable<Author>>(lstAuthorValue);
							if (lstAuthor != null)
							{
								foreach (var item in lstAuthor)
								{
									<a asp-action="FilterBy_Author" asp-controller="Shop" asp-area="Customer" asp-route-id="@item.AuthorID">
										<div class="custom-control d-flex align-items-center justify-content-between mb-3">
											<label class="custom-control-label" for="price-all">@item.AuthorName</label>
											<span class="badge border font-weight-normal">1000</span>
										</div>
									</a>
								}

							}
						}

					</form>
				</div>



				<div class="border-bottom mb-4 pb-4">
					<h5 class="font-weight-semi-bold mb-4">Thể Loại</h5>
					<form>
						<a>
							<div class="custom-control d-flex align-items-center justify-content-between mb-3">
								<label class="custom-control-label" for="price-all">Tất Cả</label>
								<span class="badge border font-weight-normal">1000</span>
							</div>
						</a>

						@{
							var lstCTValue = context.HttpContext.Request.Cookies["lstCategory"];
							if (lstCTValue == null)
							{
								<h1>Null Form rồi</h1>
							}
							IEnumerable<Category> lstCT = JsonConvert.DeserializeObject<IEnumerable<Category>>(lstCTValue);
							if (lstCT != null)
							{
								foreach (var item in lstCT)
								{
									<a asp-action="FilterBy_Category" asp-controller="Shop" asp-area="Customer" asp-route-id="@item.CategoryID">
										<div class="custom-control d-flex align-items-center justify-content-between mb-3">
											<label class="custom-control-label" for="price-all">@item.Name</label>
											<span class="badge border font-weight-normal">1000</span>
										</div>
									</a>
								}

							}
						}

					</form>
				</div>

				<div class="border-bottom mb-4 pb-4">
					<h5 class="font-weight-semi-bold mb-4">Ngôn Ngữ</h5>
					<form>
						<a>
							<div class="custom-control d-flex align-items-center justify-content-between mb-3">
								<label class="custom-control-label" for="price-all">Tất Cả</label>
								<span class="badge border font-weight-normal">1000</span>
							</div>
						</a>

						@{
							var lstLanguageValue = context.HttpContext.Request.Cookies["lstLanguage"];
							if (lstLanguageValue == null)
							{
								<h1>Null Form rồi</h1>
							}
							IEnumerable<Languge> lstLanguage = JsonConvert.DeserializeObject<IEnumerable<Languge>>(lstLanguageValue);
							if (lstLanguage != null)
							{
								foreach (var item in lstLanguage)
								{
									<a asp-action="FilterBy_Language" asp-controller="Shop" asp-area="Customer" asp-route-id="@item.LangugeID">
										<div class="custom-control d-flex align-items-center justify-content-between mb-3">
											<label class="custom-control-label" for="price-all">@item.Name</label>
											<span class="badge border font-weight-normal">1000</span>
										</div>
									</a>
								}

							}
						}

					</form>
				</div>

				<div class="border-bottom mb-4 pb-4">
					<h5 class="font-weight-semi-bold mb-4">Nhà Xuất Bản</h5>
					<form>
						<a>
							<div class="custom-control d-flex align-items-center justify-content-between mb-3">
								<label class="custom-control-label" for="price-all">Tất Cả</label>
								<span class="badge border font-weight-normal">1000</span>
							</div>
						</a>

						@{
							var lstManuValue = context.HttpContext.Request.Cookies["lstManu"];
							if (lstManuValue == null)
							{
								<h1>Null Form rồi</h1>
							}
							IEnumerable<Manufacturer> lstManu = JsonConvert.DeserializeObject<IEnumerable<Manufacturer>>(lstManuValue);
							if (lstManu != null)
							{
								foreach (var item in lstManu)
								{
									<a asp-action="FilterBy_Manufacture" asp-controller="Shop" asp-area="Customer" asp-route-id="@item.ManufactureID">
										<div class="custom-control d-flex align-items-center justify-content-between mb-3">
											<label class="custom-control-label" for="price-all">@item.ManufactureName</label>
											<span class="badge border font-weight-normal">1000</span>
										</div>
									</a>
								}

							}
						}

					</form>
				</div>
				<!-- Color End -->
				<!-- Size Start -->
				<!-- Size End -->
			</div>
			<!-- Shop Sidebar End -->
			<!-- Shop Product Start -->
			<div class="col-lg-9 col-md-12">
				<div class="row pb-3">
					<div class="col-12 pb-1">
						<div class="d-flex align-items-center justify-content-between mb-4">
							<form action="">
								<div class="input-group">
									<input type="text" class="form-control" placeholder="Search by name">
									<div class="input-group-append">
										<span class="input-group-text bg-transparent text-primary">
											<i class="fa fa-search"></i>
										</span>
									</div>
								</div>
							</form>
							<div class="dropdown ml-4">
								<button class="btn border dropdown-toggle" type="button" id="triggerId" data-toggle="dropdown" aria-haspopup="true"
										aria-expanded="false">
									Sort by
								</button>
								<div class="dropdown-menu dropdown-menu-right" aria-labelledby="triggerId">
									<a class="dropdown-item" href="#">Latest</a>
									<a class="dropdown-item" href="#">Popularity</a>
									<a class="dropdown-item" href="#">Best Rating</a>
								</div>
							</div>
						</div>
					</div>
					@RenderBody()

					<div class="col-12 pb-1">
						<nav aria-label="Page navigation">
							<ul class="pagination justify-content-center mb-3">
								<li class="page-item disabled">
									<a class="page-link" href="#" aria-label="Previous">
										<span aria-hidden="true">&laquo;</span>
										<span class="sr-only">Previous</span>
									</a>
								</li>
								<li class="page-item active"><a class="page-link" href="#">1</a></li>
								<li class="page-item"><a class="page-link" href="#">2</a></li>
								<li class="page-item"><a class="page-link" href="#">3</a></li>
								<li class="page-item">
									<a class="page-link" href="#" aria-label="Next">
										<span aria-hidden="true">&raquo;</span>
										<span class="sr-only">Next</span>
									</a>
								</li>
							</ul>
						</nav>
					</div>
				</div>
			</div>
			<!-- Shop Product End -->
		</div>
	</div>
	<div class="container-fluid bg-secondary text-dark mt-5 pt-5">
		<div class="row px-xl-5 pt-5">
			<div class="col-lg-4 col-md-12 mb-5 pr-3 pr-xl-5">
				<a asp-action="Index" asp-controller="Home" class="text-decoration-none">
					<a href="#"><img class="logo" src="~/img/fptBookLogo.png" style="width: 50%;"></a>
				</a>
				<p>Hãy để tâm hồn của bạn được thư thái trong nhưng cuốn sách của chúng tôi.</p>
				<p class="mb-2"><i class="fa fa-map-marker-alt text-primary mr-3"></i>394 Mỹ Đình, Nam Từ Liêm, Hà Nội</p>
				<p class="mb-2"><i class="fa fa-envelope text-primary mr-3"></i>hiepdepzai2k3@gmail.com</p>
				<p class="mb-0"><i class="fa fa-phone-alt text-primary mr-3"></i>+0339 414 711</p>
			</div>
			<div class="col-lg-8 col-md-12">
				<div class="row">
					<div class="col-md-4 mb-5">
						<h5 class="font-weight-bold text-dark mb-4">Quick Links</h5>
						<div class="d-flex flex-column justify-content-start">
							<div class="d-flex flex-column justify-content-start">
								<a class="text-dark mb-2" asp-action="Index" asp-controller="Home" asp-area=""><i class="fa fa-angle-right mr-2"></i>Home</a>
								<a class="text-dark mb-2" asp-action="All_Pro" asp-controller="Shop" asp-area="Customer"><i class="fa fa-angle-right mr-2"></i>Our Shop</a>
								<a class="text-dark mb-2" asp-action="MyCart" asp-controller="Cart" asp-area="Customer"><i class="fa fa-angle-right mr-2"></i>Shopping Cart</a>
								<a class="text-dark mb-2" asp-action="Index" asp-controller="Home" asp-area=""><i class="fa fa-angle-right mr-2"></i>Checkout</a>
								<a class="text-dark" asp-action="Index" asp-controller="Home" asp-area=""><i class="fa fa-angle-right mr-2"></i>Contact Us</a>
							</div>
						</div>
					</div>
					<div class="col-md-4 mb-5">
						<h5 class="font-weight-bold text-dark mb-4">Quick Links</h5>
						<div class="d-flex flex-column justify-content-start">
							<div class="d-flex flex-column justify-content-start">
								<a class="text-dark mb-2" asp-action="Index" asp-controller="Home" asp-area=""><i class="fa fa-angle-right mr-2"></i>Home</a>
								<a class="text-dark mb-2" asp-action="All_Pro" asp-controller="Shop" asp-area="Customer"><i class="fa fa-angle-right mr-2"></i>Our Shop</a>
								<a class="text-dark mb-2" asp-action="MyCart" asp-controller="Cart" asp-area="Customer"><i class="fa fa-angle-right mr-2"></i>Shopping Cart</a>
								<a class="text-dark mb-2" asp-action="Index" asp-controller="Home" asp-area=""><i class="fa fa-angle-right mr-2"></i>Checkout</a>
								<a class="text-dark" asp-action="Index" asp-controller="Home" asp-area=""><i class="fa fa-angle-right mr-2"></i>Contact Us</a>
							</div>
						</div>
					</div>
					<div class="col-md-4 mb-5">
						<h5 class="font-weight-bold text-dark mb-4">Newsletter</h5>
						<form action="">
							<div class="form-group">
								<input type="text" class="form-control border-0 py-4" placeholder="Your Name" required="required" />
							</div>
							<div class="form-group">
								<input type="email" class="form-control border-0 py-4" placeholder="Your Email"
									   required="required" />
							</div>
							<div>
								<button class="btn btn-primary btn-block border-0 py-3" type="submit">Subscribe Now</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div class="row border-top border-light mx-xl-5 py-4">
			<div class="col-md-6 px-xl-0">
				<p class="mb-md-0 text-center text-md-left text-dark">
					&copy; <a class="text-dark font-weight-semi-bold" href="#">Your Site Name</a>. All Rights Reserved. Designed
					by
					<a class="text-dark font-weight-semi-bold" href="https://htmlcodex.com">HTML Codex</a>
				</p>
			</div>
			<div class="col-md-6 px-xl-0 text-center text-md-right">
				<img class="img-fluid" src="img/payments.png" alt="">
			</div>
		</div>
	</div>
	<!-- Footer End -->
	<script src="~/lib/jquery/dist/jquery.min.js"></script>
	<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
	<script src="~/js/site.js" asp-append-version="true"></script>
	<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
	<script src="~/lib/easing/easing.min.js"></script>
	<script src="~/lib/owlcarousel/owl.carousel.min.js"></script>

	<!-- Contact Javascript File -->
	<script src="~/mail/jqBootstrapValidation.min.js"></script>
	<script src="~/mail/contact.js"></script>

	<!-- Template Javascript -->
	<script src="~/js/main.js"></script>
</body>
<script>
	// Lấy tất cả các thẻ h6 trong trang
	var h6Elements = document.querySelectorAll('h5');

	// Duyệt qua từng phần tử h6 và thực hiện thay đổi giá trị
	h6Elements.forEach(function (h6Element) {
		// Lấy giá trị từ phần tử
		var amount = parseFloat(h6Element.innerText);

		// Chuyển đổi giá trị thành định dạng tiền tệ và gán lại vào phần tử
		var formatted_amount = new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(amount);
		h6Element.innerText = formatted_amount;

		// Hiển thị kết quả trong console
		console.log(formatted_amount);
	});
</script>
<style>
	h5 {
		color: orangered;
	}
</style>
</html>
